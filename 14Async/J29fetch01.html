<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>J29fetch01.html</title>
</head>
<body>
  <h2>fetch() - get 방식</h2>
  <!-- fetch() : 프라미스 기반으로 네트워크 요청을 처리해주는 함수
  get , post 방식을 사용할 수 있다.
  get : 가져오기
  post : 보내기 -->
  <script>
    async function requestData() {
      try {
        // 외부 API 서버로 get 방식의 요청을 한다.
        const response = 
          await fetch("https://jsonplaceholder.typicode.com/todos/1");
        // 응답받은 데이터를 JSON 형식으로 변환 후 변수에 저장
        const data = await response.json();
        console.log(data);
        console.log(data.title);
        // JSON 데이터를 객체 그대로 삽입할 경우 Object 와 같이 출력된다.
        // document.getElementById("callBackMsg1").innerHTML = data;
        // 따라서 문자열 형태로 변환 후 삽입해야 정상적으로 출력된다.
        document.getElementById("callBackMsg").innerHTML =
        JSON.stringify(data);
      }
      catch(error) {
        console.log("fetch 통신 에러", error);
      }
    }
  </script>
  <div id="callBackMsg"></div>
  <div>
    <button onclick="requestData();">요청하기</button>
  </div>



</body>
</html>